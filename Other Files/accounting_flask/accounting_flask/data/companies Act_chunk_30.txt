or of any class of shareholders, or from any agreement between the members of the company or of any class of shareholders. This section does not affect any right of a member of the company to bring proceedings to restrain the doing of an action that is beyond the powers of the directors. But no such proceedings lie in respect of an act to be done in fulfilment of a legal obligation arising from a previous act of the company. This section does not affect any liability incurred by the directors, or any other person, by reason of the directors' exceeding their powers. This section has effect subject to— section 41 (transactions with directors or their associates), and section 42 (companies that are charities). Constitutional limitations: transactions involving directors or their associates This section applies to a transaction if or to the extent that its validity depends on section 40 (power of directors deemed to be free of limitations under company's constitution in favour of person dealing with company in good faith). Nothing in this section shall be read as excluding the operation of any other enactment or rule of law by virtue of which the transaction may be called in question or any liability to the company may arise. Where— a company enters into such a transaction, and the parties to the transaction include— a director of the company or of its holding company, or a person connected with any such director, the transaction is voidable at the instance of the company. Whether or not it is avoided, any such party to the transaction as is mentioned in subsection (2)(b)(i) or (ii), and any director of the company who authorised the transaction, is liable— to account to the company for any gain he has made directly or indirectly by